# frozen_string_literal: true

class CreateGoodJobSettings < ActiveRecord::Migration<%= migration_version %>
  def change
    # Ensure this incremental update migration is idempotent
    # with monolithic install migration.
    unless connection.table_exists?(:good_job_settings)
      create_table :good_job_settings, id: :uuid do |t|
        t.timestamps
        t.text :key
        t.jsonb :value
        t.index :key, unique: true
      end
    end
  end
end
